"use strict";(self["webpackChunkmy_sideproject"]=self["webpackChunkmy_sideproject"]||[]).push([[828],{3828:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var i=s(3396),a=s(7139);const r=e=>((0,i.dD)("data-v-73f86458"),e=e(),(0,i.Cn)(),e),n={class:"container-fluid row"},l={class:"col-md-3"},c={class:"col-12 col-md-9 music_view"},o=r((()=>(0,i._)("header",{class:"music_header d-flex justify-content-center"},[(0,i._)("h1",{class:"text-center"},"播放清單")],-1))),u={class:"d-flex flex-column justify-content-between"},h={class:"playlist"},p={class:"list-group"},d=["onClick","data-name","data-num"],m={class:"player pb-2"},y={class:"song_title d-flex justify-content-center text-white bg-primary py-3"},f={class:"progress",style:{background:"darkgray",height:"5px"}},g={class:"time my-2 text-center"},_={class:"h6"},x={class:"h6"},v={class:"control d-flex justify-content-center"},w={style:{color:"#1c595a"}},T={style:{color:"#eee"}},k={style:{color:"#eee"}},b={style:{color:"#1c595a"}};function C(e,t,s,r,C,P){const L=(0,i.up)("NavBar"),D=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",l,[(0,i.Wm)(L)]),(0,i._)("div",c,[o,(0,i._)("main",u,[(0,i._)("section",h,[(0,i._)("ul",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(C.songs,((e,t)=>((0,i.wg)(),(0,i.iD)("h5",{key:e.src,onClick:s=>P.clickList(e,t),"data-name":e.title,"data-num":t,class:(0,a.C_)(e.src==C.current.src?"py-2 list-group-item active":"py-2 list-group-item")},(0,a.zw)(e.title),11,d)))),128))])]),(0,i._)("section",m,[(0,i._)("h2",y,(0,a.zw)(C.current.title),1),(0,i._)("div",f,[(0,i._)("div",{class:"progress-bar bg-secondary",role:"progressbar",style:(0,a.j5)([{height:"5px"},{width:C.CurrentTimePercentage}]),"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},null,4)]),(0,i._)("div",g,[(0,i._)("span",_,(0,a.zw)(C.musicCurrentTime)+" / ",1),(0,i._)("span",x,(0,a.zw)(C.musicLength),1)]),(0,i._)("div",v,[(0,i._)("button",{class:"prev",onClick:t[0]||(t[0]=(...e)=>P.prev&&P.prev(...e))},[(0,i._)("span",w,[(0,i.Wm)(D,{icon:"fa-solid fa-backward",size:"2x"})])]),C.isPlaying?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"pause p-3 bg-dark",onClick:t[2]||(t[2]=(...e)=>P.pause&&P.pause(...e))},[(0,i._)("span",k,[(0,i.Wm)(D,{icon:"fa-solid fa-pause",size:"3x"})])])):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"play p-3 bg-dark",onClick:t[1]||(t[1]=e=>P.play(C.current.title))},[(0,i._)("span",T,[(0,i.Wm)(D,{icon:"fa-solid fa-play",size:"3x"})])])),(0,i._)("button",{class:"next",onClick:t[3]||(t[3]=(...e)=>P.next&&P.next(...e))},[(0,i._)("span",b,[(0,i.Wm)(D,{icon:"fa-solid fa-forward",size:"2x"})])])])])])])])}var P={data(){return{test:"50px",current:{title:"",src:""},index:0,isPlaying:!1,isTempPause:!1,musicCurrentTime:"00:00",CurrentTimePercentage:"0%",musicLength:"00:00",countTime:!1,songs:[{title:"The Gensokyo the Gods Loved",src:s(796)},{title:"The Waters Cleansed",src:s(1906)},{title:"Lullaby of Deserted Hell",src:s(2992)}],player:new Audio}},methods:{getDuration(){this.player.currentTime=50},play(){this.isPlaying=!0,!1===this.isTempPause&&(this.player.src=this.current.src),this.isTempPause=!1,clearInterval(window.time),window.time=setInterval((()=>{this.musicCurrentTime=Math.floor(this.player.currentTime);let e=Math.floor(this.player.currentTime/60),t=Math.floor(this.player.currentTime%60);e<10&&(e="0"+e),t<10&&(t="0"+t),this.musicCurrentTime=e+":"+t,this.CurrentTimePercentage=this.player.currentTime/this.player.duration*100+"%"}),300),this.player.play(),this.player.onended=()=>{this.next()}},pause(){this.player.pause(),this.isPlaying=!1,this.isTempPause=!0,clearInterval(window.time)},next(){this.isTempPause=!1,this.index++,this.index>this.songs.length-1&&(this.index=0),this.current=this.songs[this.index],this.play()},prev(){this.isTempPause=!1,this.index--,this.index<0&&(this.index=this.songs.length-1),this.current=this.songs[this.index],this.play()},clickList(e,t){this.isTempPause=!1,this.current=e,this.index=t,this.play()}},watch:{current(){this.player.oncanplay=()=>{this.musicLength=Math.floor(this.player.duration);let e=Math.floor(this.player.duration/60),t=Math.floor(this.player.duration%60);e<10&&(e="0"+e),t<10&&(t="0"+t),this.musicLength=e+":"+t}}},beforeRouteLeave(){this.player.load()},mounted(){""===this.current.title&&(this.current=this.songs[this.index],this.player.src=this.current.src)}},L=s(89);const D=(0,L.Z)(P,[["render",C],["__scopeId","data-v-73f86458"]]);var z=D},2992:function(e,t,s){e.exports=s.p+"media/Lullaby_of_Deserted_Hell.ad8566ba.mp3"},796:function(e,t,s){e.exports=s.p+"media/The_Gensokyo_the_Gods_Loved.e2c7ad4a.mp3"},1906:function(e,t,s){e.exports=s.p+"media/The_Waters_Cleansed.958ff946.mp3"}}]);
//# sourceMappingURL=828.fff9ce63.js.map